# iCinema 项目简介

iCinema 用于实现多个用户在同一房间内同步观看视频。

---

## 应用场景

- 远程朋友、情侣、家庭成员等希望“云观影”，实现异地同步看片体验。
- 线上观影活动、影评分享、教育培训等需要多人同步观看视频的场景。
- 以上都是AI说的，作者只是想模仿B站以前那个“一起看”功能做个系统练练手。

---

## 技术选型

- **后端**：Python + FastAPI + WebSocket 实时通信
- **前端**：Vue
- **数据库**：SQLite（开发环境），可扩展为 PostgreSQL/MySQL

---

## 核心功能

### 用户系统

- 用户可进行注册、登录、信息更新等基本操作。
- 用户可创建房间、加入房间、退出房间及解散房间。
- 用户在自己创建的房间中为“房主”，在他人房间中为“宾客”。
- 用户可在房间评论栏发送消息，与其他成员互动。
- 登录后，用户与后端建立 WebSocket 连接，并定期发送心跳包以保持在线状态。

#### 房主权限

- 设置房间内视频播放链接（同步给所有宾客）。
- 查看每位宾客的在线状态及视频缓存速度。
- 可为单个宾客单独设置播放链接。
- 控制视频的开始、暂停及播放进度（同步所有宾客）。
- 配置房间参数。

#### 宾客权限

- 向房主发送暂停/开始播放的申请。
- 同步自身的播放进度。

### 房间系统

- 每个房间包含一名房主和若干宾客。
- 房间页面根据用户身份（房主/宾客）展示不同内容。
- 房间包含视频播放区、评论栏、用户列表及多种操作按钮（随用户身份变化）。
- 房主可以邀请用户加入房间；用户可以申请加入房间。
- 房间支持多项参数设置：
  - 是否在大厅公开
  - 用户加入是否需房主同意
  - 是否保存评论栏聊天记录
  - 用户播放进度同步策略等

### 安全与隐私

- 用户密码加密存储，支持 JWT 鉴权与 Token 刷新

---

## 快速开始

1. 克隆项目到本地
2. 安装依赖
   - 后端：`pip install -r backend/requirements.txt`
   - 前端：`cd frontend && npm install`
3. 启动服务
   - 后端：`cd backend && uvicorn app.main:app --reload`
   - 前端：`cd frontend && npm run dev`
4. 也可以用 `docker-compose up` 启动后端服务；
5. 之前尝试把前端项目也装到docker中，通过compose一件启动前后端服务，但不知道为什么老报错……希望有好心人帮我看看问题（）

---

## 贡献与反馈

欢迎通过 Issue 或 Pull Request 参与贡献。如有建议或问题，请联系项目维护者。

---

如需了解更多开发、部署及贡献细节，请查阅各子目录下的文档。

