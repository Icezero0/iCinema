<template>
  <div class="room-header" :class="{ 'dark-mode': isDarkMode }">
    <button class="back-home-btn" @click="$emit('back-home')">è¿”å›ä¸»é¡µ</button>
    <div class="room-title">{{ roomName }}</div>    <div class="ws-status-bar" :class="wsStatus">
      <span v-if="wsStatus === 'connected'">ğŸŸ¢ å·²è¿æ¥</span>
      <span v-else-if="wsStatus === 'connecting'">ğŸŸ¡ æ­£åœ¨è¿æ¥...</span>
      <span v-else>ğŸ”´ æœªè¿æ¥</span>
    </div>
    <button 
      class="dark-mode-toggle-btn"
      :class="{ 'dark-active': isDarkMode }"
      @click="$emit('toggle-dark-mode', !isDarkMode)"
    >
      <span class="toggle-icon">{{ isDarkMode ? 'ğŸŒ™' : 'â˜€ï¸' }}</span>
      <span class="toggle-text">{{ isDarkMode ? 'æ·±è‰²æ¨¡å¼' : 'æµ…è‰²æ¨¡å¼' }}</span>
    </button>
  </div>
</template>

<script setup>
defineProps({
  roomName: {
    type: String,
    default: ''
  },
  wsStatus: {
    type: String,
    default: 'disconnected'
  },
  isDarkMode: {
    type: Boolean,
    default: false
  }
});

defineEmits(['back-home', 'toggle-dark-mode']);
</script>

<style scoped>
@import '@/styles/components/room/room-header.css';
</style>
